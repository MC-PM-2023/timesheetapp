{% extends "base.html" %}
{% set no_sidebar = True %}
{% block title %}Logsy - Welcome{% endblock %}

{% block content %}
<style>
  .edge-toggle{ display:none !important; }
  :root { --brand:#5f5d5d; }

  html, body { margin:0; padding:0; height:100%; overflow:hidden; background:#080A0E; }
  header, .navbar, .topbar { position:relative; z-index:10; }

  .welcome-page{
    position:fixed; inset:0; z-index:0;
    display:grid; place-items:center; text-align:left;
    padding: max(env(safe-area-inset-top),0) max(env(safe-area-inset-right),0)
             max(env(safe-area-inset-bottom),0) max(env(safe-area-inset-left),0);
  }
  .welcome-bg{
    position:absolute; inset:0; width:100%; height:100%;
    object-fit:cover; object-position:center; user-select:none; pointer-events:none;
  }

  /* content layout: left image card + right text */
  .welcome-content{
    position:relative; z-index:1; padding:0 20px; animation:fadeUp .6s ease-out;
    display:grid; grid-template-columns: 360px minmax(300px, 560px);
    align-items:center; gap:48px;
  }
  @keyframes fadeUp{ from{opacity:0; transform:translateY(12px)} to{opacity:1; transform:none} }

  .profile-card{
    width:360px; height:460px; border-radius:18px;
    overflow:hidden; box-shadow:0 14px 40px rgba(0,0,0,.35);
    background:rgba(255,255,255,.06); backdrop-filter: blur(6px);
    border:1px solid rgba(255,255,255,.18);
  }
  .profile-photo{
    width:100%; height:100%; display:block;
    object-fit:cover;
  }

  /* ===== Alignment-only fixes on heading ===== */
  .welcome-right h1 {
    color: var(--brand);
    font-weight: 800;
    margin: 0 0 .5rem;
    text-shadow: 0 1px 2px rgba(0,0,0,.35);

    /* allow neat wrapping instead of forcing one line */
    font-size: clamp(1.2rem, 2vw, 2.8rem);
    line-height: 1.2;
    text-wrap: balance;
    overflow-wrap: anywhere;
  }

  .welcome-right p{
    color:#0a0a0a; margin:0 0 20px; text-shadow:0 1px 2px rgba(0,0,0,.25);
  }
  
  /* ===== Button aligned under text (removed margin-left hack) ===== */
  .dashboard-btn {
    background: var(--brand);
    color:#111;
    font-weight:700;
    border:none;
    border-radius:12px;
    padding:8px 10px;
    font-size:1rem;
    cursor:pointer;
    transition:transform .12s ease, box-shadow .18s ease, background .18s;
    box-shadow:0 6px 20px rgba(14, 13, 19, 0.28);
    /* margin-left: 200px;  -- removed */
  }
  .dashboard-btn:hover{ transform:translateY(-1px); background:#8e8d96; }
  .dashboard-btn:active{ transform:none; box-shadow:0 3px 12px rgba(182, 181, 184, 0.22); }

  /* responsive: stack on small screens */
  @media (max-width: 900px){
    .welcome-content{
      grid-template-columns: 1fr;
      gap:20px; text-align:center; justify-items:center;
    }
    .welcome-right h1, .welcome-right p{ text-align:center; }
  }

  /* ✅ Footer */
  .footer {
    position:fixed;
    bottom:0; left:0; width:100%;
    text-align:center; padding:10px 0;
    font-size:14px; color:#080808;
    background:rgba(255, 255, 255, 0.4);
    backdrop-filter: blur(8px);
    border-top:1px solid rgba(255, 255, 255, 0.15);
    z-index:5;
  }
</style>

<div class="welcome-page">
  <!-- Background -->
  <img class="welcome-bg" src="https://storage.googleapis.com/my-react-image-bucket-123/Background30.jpg" alt="Welcome background"/>

  <!-- Content -->
  <div class="welcome-content">
    <!-- LEFT: profile image -->
    <div class="profile-card">
      <img
        class="profile-photo"
        src="{{ profile_image_url or url_for('static', filename='img/avatar-default.png') }}"
        alt="{{ username }}'s photo">
    </div>

    <!-- RIGHT: text & button -->
    <div class="welcome-right">
      <h1>Welcome to Logsy, {{ username }}!</h1>
      <p class="sub_title">Track, manage, and sync your project hours effortlessly with our smart timesheet solution</p>
      <p class="sub_title" style="color:#ceccc8;">Simplify timesheets, amplify productivity</p>
      <form action="/home" method="get" style="margin:0;">
        <button type="submit" class="dashboard-btn">Go to Logsy</button>
      </form>
    </div>
  </div>
</div>

<!-- ✅ Footer -->
<footer class="footer">
  <p>© Datasolve Analytics Pvt Ltd 2025.</p>
</footer>
{% endblock %}
